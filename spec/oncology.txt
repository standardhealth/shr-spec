Grammar:		DataElement 5.0
Namespace:		oncology
Description:	"SHR implementation of ASCO requirements."
Uses:  			shr.core, shr.base, cimi, cimi.statement

CodeSystem:     SCT = http://snomed.info/sct
CodeSystem:     LNC = http://loinc.org
CodeSystem:		MTH = http://ncimeta.nci.nih.gov
CodeSystem:     UCUM = http://unitsofmeasure.org
CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category
//

EntryElement:	BreastSite
Based on:		AnatomicalLocation
Description:	"A body site specific to the breast structure."
Value:			CodeableConcept from BreastSiteVS
0..1			ClockDirection
0..1			DistanceToNipple
				Laterality from LeftRightLateralityVS
0..0			AnatomicalDirection

		Element:		DistanceToNipple
		Description:	"The body site location in relation to the nipple."
		Value:			Quantity with units UCUM#cm

		
EntryElement:	BreastSpecimen
Based on:		Specimen
Description:	"Specimen resulting from biopsy or excision of breast and surrounding tissue."
				Type from BreastSpecimenTypeVS
				CollectionSite value is type BreastSite
				CollectionMethod from BreastSpecimenCollectionMethodVS
				SourceSpecimen value is type BreastSpecimen
0..1			ColdIschemiaTime

		Element:	 	ColdIschemiaTime
		Concept:		LNC#44778-9 
		Description:	"The time period between the chilling of a tissue or tissue sample and the time it is warmed. 
		
		CIMI Alignment: In CIMI Version 0.0.4, processing of a specimen is represented as an independent clinical statement involving a SpecimenProcessingTopic and PerformanceContext. That clinical statement would have to be mapped to FHIR as a Procedure, but that would be incorrect, since speciment processing should map to Specimen.processing, an array inside the Specimen resource. It would be a difficult mapping exercise (beyond the scope of this IG) to express the mapping rule that any CIMI SpecimenProcessingPerformed clinical statement needs to mapped to FHIR by first finding the corresponding Specimen entity, and then mapping the several CIMI instances (the Specimen and the possibly multiple SpecimenProcessingPerformed clinical statements), into one FHIR Specimen resource. To avoid this complexity, for the sake of this IG, the breast cancer model expresses the cold ischemia time as an attribute of the BreastSpecimen rather than a separate procedure."
		Value:			TimePeriod


EntryElement:	BreastCancerPresenceStatement
Concept:		SCT#126926005 "Neoplasm of the breast"
Based on:		ConditionPresenceStatement  
Description:	"FindingTopic or diagnosis of cancer originating in the tissues of the breast, and potentially spread to other organs of the body.

The BreastCancerPresenceStatement is a subclass of ConditionPresenceStatement, which is a departure from CIMI. In CIMI, this would be a archetype of ClinicalStatement combining a BreastCancerConditionTopic with the ConditionPresenceContext. This would require definition of BreastCancerConditionTopic in the reference model, follwed by introduction of constraints on Value, Category, Stage, and MorphologyBehavior in the corresponding archetype."
Value:			CodeableConcept from BreastCancerTypeVS
				Category includes #disease
				Stage from BreastCancerStageVS				
				Stage.StageDetail value is type BreastCancerStage
				FindingMethod should be from BreastCancerDetectionVS  // can't change to 'could be' because us-core uses preferred binding
0..1			MorphologyBehavior from MorphologyBehaviorVS

			Element:		MorphologyBehavior
			Concept:		TBD
			Description:	"A description of the morphology and behavioral characteristics of the cancer."
			Value:			CodeableConcept

EntryElement:	BreastCancerStage
Based on:		EvaluationResultRecorded  // maps to FHIR Observation
Concept:		LNC#21908-9
Description:	"The prognostic stage of a breast cancer, assessed according to the standard established by American Joint Committee on Cancer (AJCC). Only the prognostic stage is used in US and Canada."
Value:			CodeableConcept from BreastCancerStageVS 
1..1			FindingMethod from StagingMethodVS
1..1			StageTimingPrefix
				EvaluationComponent				
includes 1..1 	BreastCancerTCategory
includes 1..1 	BreastCancerNCategory
includes 1..1 	BreastCancerMCategory
				Members.EvaluationResultRecorded
includes 1..1	HER2ReceptorStatus
includes 1..1	EstrogenReceptorStatus
includes 1..1	ProgesteroneReceptorStatus
includes 0..1	NuclearGrade
includes 0..1	HistologicGrade	

		Element:		StageTimingPrefix
		Concept:		SCT#260869008 "Timing of stage"
		Description:	"Mandatory element indicating when the staging was done, in terms of treatment landmarks, either clinical (at diagnosis prior to treatment) (c), pathologic (post-surgical) (p), post-neoadjuvant clinical (yc), or post-neoadjuvant pathologic(yp). The stage timing code is prefix on the N stage. For example, for post-neoadjuvant clinical staging, the N categories are preceded by 'yc' (e.g. ycNX)"
		Value:			CodeableConcept	from StageTimingPrefixVS
		
		Element:		BreastCancerTCategory
		Concept:		SCT#78873005 "T category"	//RMB: was LNC#78873005, which is specific to AJCC 7th edition
		Based on:		EvaluationComponent
		Description:	"The size and extent of the primary tumor (greatest dimension), based on criteria from the American Joint Committee on Cancer."
		Value:			CodeableConcept from BreastCancerTCategoryVS
		0..1			StageSuffix from BreastCancerTCategorySuffixVS 
		0..0			ReferenceRange

		Element:		BreastCancerNCategory
		Concept:		SCT#277206009 "N category"	//RMB: was LNC#59525-6, which is specific to AJCC 7th edition
		Based on:		EvaluationComponent
		Description:	"The presence of metastases in regional lymph nodes. The node category for staging is based on criteria from the American Joint Committee on Cancer."
		Value:			CodeableConcept from BreastCancerNCategoryVS
		0..1			StageSuffix from BreastCancerNCategorySuffixVS
		0..0			ReferenceRange

				Element:	StageSuffix
				Concept:	TBD	
				Description: "A suffix used in conjuction with certain breast cancer stages, based on criteria from the American Joint Committee on Cancer."
				Value: 		CodeableConcept
				
		Element:		BreastCancerMCategory
		Concept:		SCT#126926005 "M category"	//RMB: was LNC#59522-3, which is specific to AJCC 7th edition
		Based on:		EvaluationComponent
		Description:	"Part of the TNM classification system representing metastases.  The system is used to describe the spread of cancer to other parts of the body."
		Value:			CodeableConcept from BreastCancerMCategoryVS
		0..0			ReferenceRange

EntryElement:	NuclearGrade
Concept:		MTH#C18513
Based on: 		SimplifiedLaboratoryTestResultRecorded
Description:	"An evaluation of the size and shape of the nucleus in tumor cells and the percentage of tumor cells that are in the process of dividing or growing. Cancers with low nuclear grade grow and spread less quickly than cancers with high nuclear grade."
Value:			CodeableConcept from NuclearGradeVS
				Specimen is type BreastSpecimen
				TopicCode is MTH#C18513
0..0			EvaluationComponent

EntryElement:	HistologicGrade
Concept:		LNC#44648-4
Based on:		SimplifiedLaboratoryTestResultRecorded
Description:	"The Elston Grade/Nottingham Score, representative of the aggressive potential of the tumor. Well differentiated (Grade 1) look similar to normal cells and are usually slow growing, while poorly differentiated cells (Grade 3) look very different than normal and are fast-growing."
Value:			CodeableConcept from NottinghamCombinedGradeVS
				TopicCode is LNC#44648-4
				DiagnosticService is #pathology
				Specimen is type BreastSpecimen
				EvaluationComponent
includes 0..1 	TubuleFormationScore
includes 0..1 	NuclearPleomorphismScore
includes 0..1 	MitoticCountScore

//RMB: the CAP form has two additional options for each of these subcomponents: "only microinvasion present" and "no residual invasive carcinoma", both of which are situations where a histologic grade wouldn't be assigned. Because the our exceptions value set doesn't handle these options (and possibly others related to other data elements, should we allow for a string option to contain reasons for missing data? Otherwise the expection value set might become unruly.
			Element:		TubuleFormationScore
			Concept:		SCT#371470008
			Based on:		EvaluationComponent
			Description:	"A comparison between structures formed by the tumor cells as opposed to those formed by normal cells. Scored 1 to 3 with 3 being the most abnormal."
			Value:			CodeableConcept from TubuleFormationScoreVS  //TODO: Determine if it is better to use codes as opposed to a number 1, 2 or 3. Observations don't support integer or posInteger
			0..0			ReferenceRange

			Element:		NuclearPleomorphismScore
			Concept:		SCT#371471007
			Based on:		EvaluationComponent
			Description:	"How large and varied the nuclei of the tumor cells are. Scored 1 to 3, with 3 being the most pleomorphism."
			Value:			CodeableConcept from NuclearPleomorphismScoreVS
			0..0			ReferenceRange

			Element:		MitoticCountScore
			Concept:		SCT#371472000
			Based on:		EvaluationComponent
			Description:	"How fast the tumor cells are growing and dividing, determined from the number of mitotic cells present. Scored 1 to 3, with 3 being the most mitotic cells."
			Value:			CodeableConcept from MitoticCountScoreVS   // 1 to 3 //RMB: this shouldn't be different from TubuleFormationScore and NuclearPleomorphismScore. They have the same scoring mechanism. Suggest using local codes.
			0..0			ReferenceRange

//			includes 0..1	PercentageInSituCarcinoma   // not sure where this belongs


EntryElement:	EstrogenReceptorStatus
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		LNC#16112-5 "Estrogen receptor [Interpretation] in Tissue"
Description:	"Estrogen receptor alpha is the predominant estrogen receptor expressed in breast tissue and is overexpressed in around 50% of breast carcinomas. ER status (positive=present or overexpressed; negative=absent) is a factor in determining prognosis and treatment options.

We are seeking feedback if it is better to put the positive/negative status in Value or Interpretation. The current approach is that positive/negative designation is a value, even though that value is (in fact) an interpretation of evidence (NuclearPositivity and AverageStainingIntensity)."
Value:			CodeableConcept from PositiveNegativeVS
				TopicCode is LNC#16112-5
				DiagnosticService is #pathology	
				Specimen is type BreastSpecimen				
				EvaluationComponent
includes 0..1	NuclearPositivity
includes 0..1	AverageStainingIntensity


EntryElement:	ProgesteroneReceptorStatus
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		LNC#16113-3
Description:	"Progesterone receptor status is a factor in determining prognosis and treatment options. The value is the percentage of cells that test (stain) positive for the presence of a receptor. The interpretation of positive or negative (found in the interpretation property) is based on the staining percentage, and may take into account the staining intensity. 

Based on discussion with Cancer Interoperability Group subject matter experts, there was insufficient rationale to include the following components in the data model: StainingControl, PrimaryAntibody, Allred Score (both total and component scores). We are seeking feedback on whether or not those components should be included in this model.

We are seeking feedback if it is better to put the positive/negative status in Value or Interpretation. The current approach is that positive/negative designation is a value, even though that value is (in fact) an interpretation of evidence (NuclearPositivity and AverageStainingIntensity)."
Value:			CodeableConcept from PositiveNegativeVS
				TopicCode is LNC#16113-3 "Progesterone receptor [Interpretation] in Tissue"	
				DiagnosticService is #pathology	
				Specimen is type BreastSpecimen				
				EvaluationComponent
includes 0..1	NuclearPositivity
includes 0..1	AverageStainingIntensity

		Element:		NuclearPositivity
		Based on:		EvaluationComponent
		Concept:		TBD
		Description:	"The percentage of cells that test (stain) positive for the presence of a receptor."
		Value:			PercentageRange
		0..0			ReferenceRange
			
		Element:		AverageStainingIntensity
		Concept:		SCT#444775005 "Average intensity of positive staining neoplastic cells (observable entity)"
		Based on:		EvaluationComponent
		Description:	"The degree or magnitude of staining (nuclear positivity) across cells in the specimen."
		Value:			CodeableConcept from StainingIntensityVS
		0..0			ReferenceRange

		
EntryElement:	HER2ReceptorStatus
Based on:		LaboratoryTestResultRecorded
Concept:		LNC#48676-1 "HER2 [Interpretation] in Tissue"
Description:	"HER2 receptor status. HER2 is a member of the human epidermal growth factor receptor family of proteins and is encoded by the ERBB2 oncogene. HER2 is overexpressed in 20-30% of breast tumors,10 and is associated with an aggressive clinical course and poor prognosis. HER2 status (positive=present or overexpressed; negative=absent) is a factor in determining prognosis and treatment options.

We are seeking feedback if it is better to put the positive/negative status in Value or Interpretation. The current approach is that positive/negative designation is a value, even though that value is (in fact) an interpretation of evidence from HER2 by IHC and/or HER2 by ISH tests, not a direct observation."
Value:			CodeableConcept from PositiveNegativeEquivocalVS
				TopicCode is LNC#48676-1 "HER2 [Interpretation] in Tissue"
				Category is OBSCAT#laboratory
				DiagnosticService is #pathology
				Specimen is type BreastSpecimen

0..0			Precondition
0..0			ReferenceRange
0..0			AnatomicalLocation // AnatomicalLocation is covered in the Specimen collection
0..0			FindingMethod
				Members.EvaluationResultRecorded
includes 0..*	HER2byIHC
includes 0..*	HER2byISH
				
EntryElement:	HER2byIHC
Based on:		EvaluationResultRecorded
Concept:		LNC#72383-3
Description:	"HER2 receptor status as determined by Immunohistochemistry (IHC)."
Value:			CodeableConcept from HER2byIHCScoreVS
				TopicCode is LNC#72383-3 "HER2 Presence in Tissue by Immunoassay"
				FindingMethod from HER2IHCMethodVS
				Interpretation from PositiveNegativeEquivocalVS
				EvaluationComponent
includes 0..1	CompleteMembraneStainingPercent

		Element:		CompleteMembraneStainingPercent
		Based on:		EvaluationComponent
		Concept:		LNC#16112-5  "Cells.HER2 uniform intense membrane staining/100 cells"
		Description:	"Percentage of cells with uniform intense complete membrane staining."
		Value:			Quantity with units UCUM#%   // TODO: Percentage causes CLI error
		0..0			ReferenceRange
		
EntryElement:	HER2byISH
Based on:		EvaluationResultRecorded
Concept:		LNC#72383-3
Description:	"HER2 receptor status as determined by In Situ Hybridization (ISH)."
0..0		Value
		TopicCode is LNC#72383-3 "HER2 Presence in Tissue by Immunoassay"
		FindingMethod from HER2ISHMethodVS
		Interpretation from PositiveNegativeEquivocalVS
		EvaluationComponent
includes 0..1	AverageHER2SignalsPerCell
includes 0..1	AverageCEP17SignalsPerCell
includes 0..1	HER2toCEP17Ratio

		Element:		AverageHER2SignalsPerCell
		Based on:		EvaluationComponent
		Concept:		LNC#74860-8
		Description:	"Average number of HER2 signals per cell"
		Value:			Quantity
		0..0			ReferenceRange
		
		Element:		AverageCEP17SignalsPerCell
		Based on:		EvaluationComponent
		Concept:		LNC#74861-6
		Description:	"Average number CEP17 signals per cell (dual probe only)"
		Value:			Quantity
		0..0			ReferenceRange
		
		Element:		HER2toCEP17Ratio
		Based on:		EvaluationComponent
		Concept:		LNC#49683-6
		Description:	"HER2 to CEP17 Ratio (dual probe only)"
		Value:			Quantity
		0..0			ReferenceRange
		
		
EntryElement:	OncotypeDxInvasiveRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C1709318
Description:	"The Oncotype DX test for invasive breast cancer examines the activity of 21 genes in a patientâ€™s breast tumor tissue to provide personalized information for tailoring treatment based on the biology of their individual disease. The value is 0 to 100 indicates the estimated risk of recurrence with highest risk indicated by score > 31.

No LOINC code currently exists for this test."
Value: 			Quantity with units UCUM#1
				TopicCode is MTH#C1709318
				Interpretation from OncotypeDxInvasiveRiskScoreInterpretationVS
				DiagnosticService is #pathology
				Specimen is type BreastSpecimen
0..0			EvaluationComponent				

EntryElement:	OncotypeDxDCISRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C3898101
Description:	"The Oncotype DX test for DCIS (Ductal Carcinoma in Situ) breast cancer. Risk scores are range from 0 to 100 with the following interpretations: 0-38: Low-Risk, 39-54: Intermediate-Risk, 55+: High-Risk.

No LOINC code currently exists for this test."
Value: 			Quantity with units UCUM#1
				TopicCode is MTH#C3898101
				Interpretation from OncotypeDxDCISRiskScoreInterpretationVS
				DiagnosticService is #pathology
				Specimen is type BreastSpecimen	
0..0			EvaluationComponent
				
EntryElement:	ProsignaRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		LNC#76544-6
Description:	"Breast cancer genomic signature assay for 10-year risk of distant recurrence score calculated by Prosigna.

The Prosigna Score is reported on a 0 -100 scale (referred to as ROR Score or Risk of Recurrence Score in the literature), which is correlated with the probability of distant recurrence at ten years for post-menopausal women with hormone receptorpositive, early stage breast cancer."
Value: 			Quantity with units UCUM#1
				TopicCode is LNC#76544-6
				Interpretation from RecurrenceRiskScoreInterpretationVS
				DiagnosticService is #pathology
				Specimen is type BreastSpecimen
0..0			EvaluationComponent				
				
EntryElement:	MammaprintRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C2827401
Description:	"Breast cancer genomic signature assay for 10-year risk of distant recurrence score calculated by Mammaprint.

In the United States, MammaPrint can only be used on cancers that are stage I or stage II, invasive, smaller than 5 centimeters, and estrogen-receptor-positive or -negative. Scores range from -1.0 to +1.0, with scores less than 0 indicating high risk, and scores greater than 0 indicating low risk.

The is currently no LOINC code for Mammaprint test."
Value: 			Quantity
				TopicCode is MTH#C2827401
				Interpretation from MammaprintRiskScoreInterpretationVS
				DiagnosticService is #pathology
				Specimen is type BreastSpecimen				 
0..0			EvaluationComponent
	


