Grammar:		DataElement 5.0
Namespace:		cimi.context
Description:	"The Context Package defines the high-level clinical statement context classes. Three types of contexts are currently defined in CIMI (1) Finding Contexts, (2) Action Contexts, and (3) Event Concepts. Finding contexts are used to specify whether a finding was observed to be present or absent. Action contexts are used to specify whether a clinical activity was performed, ordered, planned, or perhaps not performed. The Event context is experimental and has not yet been formally modeled."
Uses:			shr.core, shr.base, cimi.core, cimi.element, cimi.topic, cimi.statement, cimi.entity, cimi.encounter, shr.entity

CodeSystem:		MTH = http://ncimeta.nci.nih.gov
//
Element:		StatementContext
Based on:		NonIndependent
Concept:		TBD
Description:	"Compositional and reusable grouping of clinical statement attributes that provides the context for the topic of a clinical statement. 
The StatementContext class aligns with the SNOMED CT Situations with Explicit Context (SWEC) Concept Model. The StatementContext provides the expressivity required to specify that an act was performed or not performed or that a finding was asserted to be present or absent for the given subject of information. It also often holds provenance information relevant to the context of the clinical statement. It is important to note that by default the context applies to the conjunction of the attribute specified in the statement. For instance, if a clinical statement has a topic describing a rash on left arm and a context of 'absent', then the statement states that the subject of interest did not have a rash on the left arm but might have had one on the right arm."
1..1			ContextCode
0..1			Encounter  // clinical statements are often associated with specific encounters

		Element:		ContextCode	
		Concept:		TBD
		Description:	"A code representing the ontological status of the statement, e.g., whether it exists, does not exist, is planned, etc.
		Attribute aligns with the SNOMED CT Situation with Explicit Context (SWEC) Concept Model context attributes: 'Finding context (attribute)' (SCTID: 408729009) and 'Procedure context (attribute)' (SCTID: 408730004). The range allowed for this attribute shall be consistent with the SNOMED CT concept model specification for SWEC."
		Value:			CodeableConcept

Element:			ActionContext
Based on:			StatementContext
Description:		"The ontological status of the intervention, e.g., performed/not performed, requested/not requested."
0..*				Reason

	Element:		Reason
	Concept:		MTH#C0566251
	Description:	"The justification for an action or non-action, conclusion, opinion, etc."
	Value:			string or CodeableConcept or ref(ClinicalStatement)

Element:		PerformedContext
Based on:		ActionContext
Concept:		TBD
Description:	"ActionContext indicating actual performance or execution of a healthcare-related action, e.g., 3rd dose of Hepatitis B vaccine administered on Dec 4th 2012, appendectomy performed today."
1..1			OccurrenceTimeOrPeriod  // when the action took place
0..*			Participant		
1..1			Status should be from http://hl7.org/fhir/ValueSet/event-status  
0..1			Method
0..*			RelatedRequest
//0..1			EnactsPlan
//0..1			FulfillsOrder
0..1			ref(Facility)
0..1			Outcome  // e.g., AdverseEvent

		Element:		Participant
		Concept:		MTH#C1550369
		Description:	"An entity (usually a Practitioner, Patient, or Organization but potentially a device or other entity) that participates in a healthcare task or activity."
		Value:			ref(EntityOrRole)
		0..1 			ParticipationType  // role
		0..1			ParticipationPeriod
		0..1			OnBehalfOf
		
			Element:		ParticipationType
			Concept:		MTH#C1553854
			Description:	"The role played by the participant engaged in the action, for example, as the attending physician, surgical assistant, etc."
			Value:			CodeableConcept from FHIR/v3-ParticipationType
			
			Element:		ParticipationPeriod
			Concept:		TBD
			Description:	"The point in time or span of time the participant is involved."
			Value:			TimePeriod
	
		Element:		Method
		Concept:		TBD
		Description:	"The technique used to carry out an action, for example, the specific imaging technical or assessment vehicle."
		Value:			CodeableConcept  // TODO: limit to a procedure code
		
		Element:		RelatedRequest
		Concept:		TBD
		Description:	"The proposal, order, or plan that is partly or wholly fulfilled by the performance of this act."
		Value:			ref(ActionRequestedStatement)  
		
	/*	
		Element:		EnactsPlan
		Concept:		TBD
		Description:	"The plan that is partly or wholly enacted by the performance of this act."
		Value:			ref(ActionRequestedStatement)

		Element:		FulfillsOrder
		Concept:		TBD
		Description:	"The order that is partly or wholly enacted by the performance of this act."
		Value:			ref()
	*/	
		Element:		Outcome
		Concept:		TBD
		Description:	"The result of performing an action or behavior, for example, an adverse reaction or new finding."
		Value:			CodeableConcept could be from http://hl7.org/fhir/ValueSet/procedure-outcome
		0..*			ref(ClinicalStatement)

		
Element:		NotPerformedContext
Based on:		ActionContext
Concept:		TBD
Description:	"A record that a clinical act was not performed at a certain time or during a stated period of time, particularly when there might be an expectation of performing such an act, for example, if a vaccination is not given because of parental objection. Do not use this context if the act was initiated or started but aborted or cancelled."
0..1			RelatedRequest 
1..1			NonOccurrenceTimeOrPeriod
	
	
Element:		RequestedContext
Concept:		MTH#C1705178
Based on:		ActionContext
Description:	"An order for something to take place."
1..1			Status should be from http://hl7.org/fhir/ValueSet/request-status
1..1			RequestIntent
0..1			ExpectedPerformanceTime
0..1			ExpectedPerformerType
0..1			ExpectedPerformer
0..1			ExpectedMethod 
0..1 			PriorityRank should be from http://hl7.org/fhir/ValueSet/request-priority
0..1			PerformerInstructions
0..1			PatientInstructions	
0..1			CommunicationMethod

		Element:		RequestIntent	
		Concept:		TBD
		Description:	"Indicates the level of authority/intentionality associated with the request and where the request fits into the workflow chain."
		Value:			code from http://hl7.org/fhir/ValueSet/request-intent
		
		Element:		ExpectedPerformanceTime
		Concept:		TBD
		Description:	"When an action should be done. If the action is a series or recurs (e.g. daily blood sugar testing in the morning) then a Timing can be used to describe the periodicity."
		Value:			dateTime or date or TimePeriod or Timing

		Element:		ExpectedPerformerType
		Concept:		TBD
		Description:	"What type of party should carry out the testing."
		Value:			CodeableConcept // what ValueSet??

		Element:		ExpectedPerformer
		Concept:		TBD
		Description:	"Who should carry out the tests. For example, the patient or caregiver."
		Value:			ref(Entity) or ref(Organization)
		
		Element:		ExpectedMethod
		Concept:		TBD
		Description:	"The method that should be used to carry out the action."
		Value:			ref(Method)

		Element:		PerformerInstructions
		Concept:		TBD
		Description:	"Information for the performer of the test, if needed."
		Value:			string

		Element:		PatientInstructions
		Concept:		TBD
		Description:	"Information for the patient, such as, where to get the test, how to prepare for the test, etc."
		Value:			string
		
		Element:		CommunicationMethod
		Concept:		TBD
		Description:	"This is the method the provider used to communicate. Examples include: Written, Telephoned, Verbal, Electronically Entered, Policy, Service Correction, Duplicate, etc. 'Code indicating the origin of the prescription.' - NCPDP Telecommunication (Field 419-DJ, Data Dictionary 201104). Possible values include: Written; Telephone; Electronic; Facsimile; Pharmacy; Not Known."
		Value:			CodeableConcept

Element:		RequestedAgainstContext
Concept:		TBD
Based on:		ActionContext
Description:	"Represents a recommendation or order from a practitioner or clinical decision support system to NOT perform an act."


Element:		FindingContext
Based on:		StatementContext
Concept:		SCT#410514004
Description:	"The base class for representing the ontological status of a finding, e.g., present, absent, goal, risk, expectation, etc. This class aligns with the SNOMED Situation with Explicit Context."


Element:		AssertionContext
Based on:		FindingContext
Concept:		TBD
Description:	"The parent class of contexts that can associate with AssertionTopic and its subclasses."

Element:		PresenceContext
Based on:		AssertionContext
Concept:		SCT#410515003
Description:	"PresenceContext indicates that the finding in question exists or is present to some level of certainty. 
For example, if the finding involves a myocardial infarction, the presence context implies that cardiac arrest has (or may have) taken place. Note that the name Presence is used rather than Present to prevent confusion with the temporal meaning of present."
				ContextCode from PresenceContextVS
1..1			VerificationStatus			
0..1			Onset
0..1			Abatement
0..1			Certainty
	
			Element:		VerificationStatus
			Concept:		TBD
			Description:	"Whether an assessment has been confirmed by testing or observation.
			CIMI Alignment: This attribute corresponds to FindingContext.status, but has been defined to align with FHIR. In AllergyIntolerance, the type is code."
			Value:			CodeableConcept	

			Element:		Onset
			Concept:		LNC#85585-8
			Description:	"The beginning or first appearance of a mental or physical disorder."
			Value:			dateTime or Age or TimePeriod or Range or string
			
			Element:		Abatement
			Concept:		LNC#88878-4
			Description:	"The end, remission or resolution."
			Value:			dateTime or Age or boolean or TimePeriod or Range or string
			
			Element:		Certainty
			Concept:		TBD
			Description:	"The degree of confidence in a conclusion or assertion."
			Value:			CodeableConcept

Element: 		ConditionPresenceContext
Based on:		PresenceContext
Concept:		TBD
Description:	"The context for a condition that is known, suspected, or possibly present."
1..1			ClinicalStatus from http://hl7.org/fhir/ValueSet/condition-clinical
0..1			WhenClinicallyRecognized
0..1			PresentOnAdmission
0..1			Severity from http://hl7.org/fhir/ValueSet/condition-severity
// 0..1			Criticality from http://hl7.org/fhir/ValueSet/allergy-intolerance-criticality
0..1			Stage

			Element:		ClinicalStatus
			Concept:		TBD
			Description:	"A flag indicating whether the condition is active or inactive, recurring, in remission, or resolved (as of the last update of the Condition)."
			Value:			code

			Element:		WhenClinicallyRecognized
			Concept:		TBD
			Description:	"The time at which a condition or condition was first identified in a healthcare context."
			Value:			date

			Element:		PresentOnAdmission
			Concept:		LNC#89251-3 "Condition present on admission"
			Description:	"If the problem or condition existed before the current episode of care."
			Value:			CodeableConcept from YesNoUnknownVS

			Element:		Severity
			Concept:		MTH#C0392364
			Description:	"Degree of harshness or extent of a symptom, disorder, or condition."
			Value: 			CodeableConcept 

			Element:		Criticality
			Concept:		MTH#C3858539 "Criticality"
			Description:	"The potential clinical harm associated with a condition. When the worst case result is assessed to have a life-threatening or organ system threatening potential, it is considered to be of high criticality."
			Value:			code

			Element:		Stage
			Concept:		MTH#C0699749
			Description:	"The relative advancement in the course of a disease. The value is the summary stage or stage group. StageDetail optionally contains the full staging information."
			Value:			CodeableConcept
			0..1			StageDetail
			
					Element:		StageDetail
					Concept:		TBD
					Description:	"The full staging information"
					Value:			ref(Observation)
					
	Element:		RecordedContext
	Based on:		FindingContext
	Concept:		TBD
	Description:	"Context for recording a finding, used to indicate an evaluation has been made."
					ContextCode is SCT#424975005 "Record Entity"
	0..1			Interpretation
	1..1			FindingStatus
	0..1			RelevantTime   // ClinicallyRelevantTime isn't a good name when it comes to employment and other life history events
	
		Element:		Interpretation
		Concept:		MTH#C0420833
		Description:	"A clinical interpretation of a finding (applies to both assertions and observation)."
		Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/observation-interpretation if covered
	
		Element:		FindingStatus
		Concept:		TBD
		Description:	"Indicates whether the finding is preliminary, amended, final, etc."
		Value:			code from http://hl7.org/fhir/ValueSet/observation-status

		Element:		RelevantTime
		Concept:		TBD
		Description:	"The time or time period that the finding addresses.
		The clinically relevant time is not necessarily when the information is gathered or when a test is carried out, but for example, when a specimen was collected, or the time period referred to by the question. Use a TimePeriod for a measurement or specimen collection continued over a significant period of time (e.g. 24 hour Urine Sodium)."
		Value:			dateTime or TimePeriod 
		
	Element:		ObservationContext
	Based on:		RecordedContext
	Concept:		TBD
	Description:	"Context for recording an evaluation result, used to indicate an evaluation has been made."
	0..1			ResultValue
	0..1			ExceptionValue from ExceptionValueVS if covered
	0..1			DeltaFlag
	0..1			Issued
	0..*			Observer

		Element:		ResultValue
		Concept:		TBD
		Description:	"The finding itself, such as the blood pressure value recorded."
		Value:			(Quantity or CodeableConcept or string or boolean or Range or Ratio or time or dateTime or TimePeriod)
		
		Element:		ExceptionValue
		Concept:		TBD
		Description:	"Reason that a value associated with a test or other finding is missing."
		Value:			CodeableConcept
		
		Element:		DeltaFlag
		Concept:		MTH#C1705241
		Description:	"Indicator of significant change (delta) from the last or previous measurement."
		Value:			CodeableConcept from DeltaFlagVS
				
		Element:		Issued
		Description:	"The date and time this observation was made available to providers, typically after the results have been reviewed and verified."
		Value:			instant

		Element:		Observer
		Description:	"The person or organization who observed or informed the reporter about the characteristic, potentially the clinician, the patient, or a related person."
		Value:			ref(Practitioner) or ref(Organization) or ref(Patient) or ref(RelatedPerson)

	Element:		AbsenceContext
	Based on:		AssertionContext
	Concept:		TBD
	Description:	"Indicates the finding in question is either known absent (ruled out), not suspected, or unknown."
					ContextCode from AbsenceContextVS
	
	Element:		AtRiskContext
	Based on:		FindingContext
	Concept:		SCT#410519009
	Description:	"At risk indicates the finding should be interpreted as a future possibility or expectation."
					ContextCode from AtRiskContextVS

	Element:		ExpectationContext
	Based on:		FindingContext
	Concept:		SCT#410517006
	Description:	"A context indicating the finding is an expectation, prognosis, or likely outcome."
					ContextCode from ExpectationContextVS				

	Element:		GoalContext
	Based on:		FindingContext
	Concept:		SCT#410518001
	Description:	"A hypothetical or future finding that represents an objective or goal."
					ContextCode from GoalContextVS

/* TBD
Element:		DefinitionalContext
Based on:		StatementContext
Concept:		MTH#C1704788
Description:	"An indicator that the item is a description of a thing, not a thing that actually exists. For example, a group of people between ages 30 and 40 with Type II diabetes can be defined, without existing as a set of particular people."
Value:			boolean 
*/
		