Grammar:		DataElement 5.0
Namespace:		shr.oncology
Description:	"SHR implementation of ASCO requirements."
Uses:  			shr.core, shr.base, cimi.core, cimi.element, cimi.context, cimi.topic, cimi.statement, cimi.entity

CodeSystem:     SCT = http://snomed.info/sct
CodeSystem:     LNC = http://loinc.org
CodeSystem:		MTH = http://ncimeta.nci.nih.gov
CodeSystem:     UCUM = http://unitsofmeasure.org
CodeSystem:		HGNC = http://www.genenames.org
CodeSystem:		CAP = https://sdt.cap.org
CodeSystem:		OBSCAT = http://hl7.org/fhir/observation-category

EntryElement:	BreastSite
Based on:		AnatomicalLocation
Description:	"A body site specific to the breast structure."
Value:			CodeableConcept from BreastSiteVS
0..1			ClockDirection
0..1			DistanceFromBreastSiteToNipple
0..0			AnatomicalDirection

		Element:		DistanceFromBreastSiteToNipple
		Description:	"Distance between the feature of interest (e.g., the tumor) and the nipple."
		Value:			Quantity with units UCUM#cm

EntryElement:	BreastSpecimen
Based on:		Specimen
Description:	"Specimen resulting from biopsy or excision of breast and surrounding tissue."
				Type from BreastSpecimenTypeVS
				CollectionSite value is type BreastSite
				CollectionMethod from BreastSpecimenCollectionMethodVS
				SourceSpecimen value is type BreastSpecimen
0..1			ColdIschemiaTime

		Element:	 	ColdIschemiaTime
		Concept:		LNC#44778-9 
		Description:	"The time period between the chilling of a tissue or tissue sample and the time it is warmed. 
		
		CIMI Alignment: In CIMI Version 0.0.4, specimen processing is represented as a 'SpecimenProcessingPerformed' clinical statement, mapped to FHIR Procedure. However, specimen processing should actually map to Specimen.processing, part of the Specimen resource. It would be a difficult mapping exercise (beyond the scope of this IG) to express the mapping rule that any CIMI SpecimenProcessingPerformed clinical statement needs to mapped to FHIR by (1) finding the corresponding Specimen entity, and (2) mapping the content of (possibly multiple) SpecimenProcessingPerformed into the FHIR Specimen resource. To avoid this complexity, the breast cancer model expresses the cold ischemia time as an attribute of the BreastSpecimen rather than a separate procedure."
		Value:			TimePeriod

EntryElement:	BreastCancerPresenceStatement
Concept:		SCT#126926005 "Neoplasm of breast (disorder)"
Based on:		ConditionPresenceStatement
Description:	"Diagnosis of cancer originating in the tissues of the breast, and potentially spread to other organs of the body.

The BreastCancerPresenceStatement is a subclass of ConditionPresenceStatement, which is a departure from CIMI. In CIMI, this would be a archetype of ClinicalStatement combining a BreastCancerConditionTopic with the ConditionPresenceContext. This would require definition of BreastCancerConditionTopic in the reference model, follwed by introduction of constraints on Value, Category, Stage, and MorphologyBehavior in the corresponding archetype."
				ConditionTopic.TopicCode from BreastCancerTypeVS		
				ConditionPresenceContext.Stage.StageDetail value is type BreastCancerStage
				ConditionTopic.FindingMethod should be from BreastCancerDetectionVS  // can't change to 'could be' because us-core uses preferred binding
				ConditionTopic.AnatomicalLocation is type BreastSite
0..1			MorphologyBehavior from MorphologyBehaviorVS

			Element:		MorphologyBehavior
			Concept:		TBD
			Description:	"A description of the morphology and behavioral characteristics of the cancer."
			Value:			CodeableConcept

EntryElement:	BreastCancerStage
Based on:		PanelRecorded  // maps to FHIR Observation
Concept:		MTH#C2216702 "Malignant Neoplasm of Breast Staging" //Not LNC#21908-9 since that is AJCC-specific
Description:	"The stage of a breast cancer. Different staging systems use different staging groups, so there are currently no terminology bindings associated with this class."
0..1			StageTimingPrefix
				PanelTopic.TopicCode is MTH#C2216702 "Malignant Neoplasm of Breast Staging"
				EvaluationResultRecordedContext.ResultValue value is type CodeableConcept
				EvaluationResultRecordedContext.ResultValue could be from BreastCancerStageVS
0..0			PanelTopic.AnatomicalLocation
0..0			PanelTopic.Specimen
0..0			PanelTopic.ReferenceRange
				PanelTopic.EvaluationComponent			
includes 0..1 	BreastCancerPrimaryTumorClassification
includes 0..1 	BreastCancerRegionalNodesClassification
includes 0..1 	BreastCancerDistantMetastasesClassification
				PanelTopic.PanelMembers.EvaluationResultRecorded
includes 0..1	HER2ReceptorStatus
includes 0..1	EstrogenReceptorStatus
includes 0..1	ProgesteroneReceptorStatus
includes 0..1	DCISNuclearGrade
includes 0..1	BreastCancerHistologicGrade	

		Element:		StageTimingPrefix
		Concept:		SCT#260869008 "Timing of stage"
		Description:	"Indicates when the staging was done, in terms of treatment landmarks."
		Value:			CodeableConcept	from StageTimingPrefixVS
		
		Element:		BreastCancerPrimaryTumorClassification
		Concept:		SCT#78873005 "T category"
		Based on:		CodedEvaluationComponent
		Description:	"The size and extent of the primary tumor, based on criteria defined by the staging system being used."
		Value:			CodeableConcept
		0..1			StageSuffix

		Element:		BreastCancerRegionalNodesClassification
		Concept:		SCT#277206009 "N category"	//RMB: was LNC#59525-6, which is specific to AJCC 7th edition
		Based on:		CodedEvaluationComponent
		Description:	"The presence of metastases in regional lymph nodes, based on criteria defined by the staging system being used."
		Value:			CodeableConcept
		0..1			StageSuffix

				Element:	StageSuffix
				Concept:	TBD	
				Description: "A suffix used in conjuction with certain breast cancer stages, based on criteria defined by the staging system being used."
				Value: 		CodeableConcept
				
		Element:		BreastCancerDistantMetastasesClassification
		Concept:		SCT#277208005 "M category (observable entity)"	//RMB: was LNC#59522-3, which is specific to AJCC 7th edition
		Based on:		CodedEvaluationComponent
		Description:	"The presence of distant metastases, based on criteria defined by the staging system being used."
		Value:			CodeableConcept

EntryElement:	DCISNuclearGrade
Concept:		MTH#C18513
Based on: 		SimplifiedLaboratoryTestResultRecorded
Description:	"An evaluation of the size and shape of the nucleus in tumor cells and the percentage of tumor cells that are in the process of dividing or growing. Cancers with low nuclear grade grow and spread less quickly than cancers with high nuclear grade."
				EvaluationResultRecordedContext.ResultValue value is type CodeableConcept
				EvaluationResultRecordedContext.ResultValue.CodeableConcept from NuclearGradeVS
				EvaluationResultTopic.Specimen is type BreastSpecimen
				EvaluationResultTopic.TopicCode is MTH#C18513
0..0			EvaluationResultTopic.EvaluationComponent

EntryElement:	BreastCancerHistologicGrade
Concept:		LNC#44648-4
Based on:		SimplifiedLaboratoryTestResultRecorded
Description:	"The Elston Grade/Nottingham Score, representative of the aggressive potential of the tumor. Well differentiated cells (Grade 1) look similar to normal cells and are usually slow growing, while poorly differentiated cells (Grade 3) look very different than normal and are fast-growing."
				EvaluationResultRecordedContext.ResultValue value is type CodeableConcept
				EvaluationResultRecordedContext.ResultValue.CodeableConcept from NottinghamCombinedGradeVS
				EvaluationResultRecordedContext.ExceptionValue from NottinghamNullVS
				EvaluationResultTopic.TopicCode is LNC#44648-4

				EvaluationResultTopic.Specimen is type BreastSpecimen
				DiagnosticService is #pathology
				EvaluationResultTopic.EvaluationComponent
includes 0..1 	TubuleFormationScore
includes 0..1 	NuclearPleomorphismScore
includes 0..1 	MitoticCountScore

//RMB: the CAP form has two additional options for each of these subcomponents: "only microinvasion present" and "no residual invasive carcinoma", both of which are situations where a histologic grade wouldn't be assigned. Because the our exceptions value set doesn't handle these options (and possibly others related to other data elements, should we allow for a string option to contain reasons for missing data? Otherwise the expection value set might become unruly.
			Element:		TubuleFormationScore
			Concept:		LNC#85321-8 "Granular differentiation"  // SHOULD BE LOINC
			Based on:		CodedEvaluationComponent
			Description:	"A comparison between structures formed by the tumor cells and those formed by normal cells. Scored 1 to 3 with 3 being the most abnormal."
			Value:			CodeableConcept from TubuleFormationScoreVS  //TODO: Determine if it is better to use codes as opposed to a number 1, 2 or 3. Observations don't support integer or posInteger
							ExceptionValue from NottinghamNullVS

			Element:		NuclearPleomorphismScore
			Concept:		LNC#44645-0
			Based on:		CodedEvaluationComponent
			Description:	"How large and varied the nuclei of the tumor cells are. Scored 1 to 3, with 3 being the most pleomorphism."
			Value:			CodeableConcept from NuclearPleomorphismScoreVS
							ExceptionValue from NottinghamNullVS

			Element:		MitoticCountScore
			Concept:		LNC#85300-2
			Based on:		CodedEvaluationComponent
			Description:	"How fast the tumor cells are growing and dividing, determined from the number of mitotic cells present. Scored 1 to 3, with 3 being the most mitotic cells. We are seeking feedback on the value of representing the mitotic rate as a value rather than coded ranges."
			Value:			CodeableConcept from MitoticCountScoreVS   // 1 to 3 //RMB: this shouldn't be different from TubuleFormationScore and NuclearPleomorphismScore. They have the same scoring mechanism. Suggest using local codes.
							ExceptionValue from NottinghamNullVS
//			includes 0..1	PercentageInSituCarcinoma   // not sure where this belongs

EntryElement:	EstrogenReceptorStatus
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		LNC#16112-5 "Estrogen receptor [Interpretation] in Tissue"
Description:	"Estrogen receptor alpha is the predominant estrogen receptor expressed in breast tissue and is overexpressed in around 50% of breast carcinomas. ER status (positive=present or overexpressed; negative=absent) is a factor in determining prognosis and treatment options.

We are seeking feedback if it is better to put the positive/negative status in Value or Interpretation. The current approach is that positive/negative designation is a value, even though that value is (in fact) an interpretation of evidence (NuclearPositivity and AverageStainingIntensity)."
				EvaluationResultRecordedContext.ResultValue value is type CodeableConcept
				EvaluationResultRecordedContext.ResultValue.CodeableConcept from PositiveNegativeVS
				EvaluationResultTopic.TopicCode is LNC#16112-5
				DiagnosticService is #pathology	
				EvaluationResultTopic.Specimen is type BreastSpecimen				
				EvaluationResultTopic.EvaluationComponent
includes 0..1	NuclearPositivity
includes 0..1	AverageStainingIntensity
/*
includes 0..1	StainingControl
includes 0..1	PrimaryAntibody //from EstrogenAntibodyVS if covered
includes 0..1	AllredProportionScore
includes 0..1	AllredIntensityScore
includes 0..1	AllredTotalScore
includes 0..1	OtherReceptorScoringSystem
*/

EntryElement:	ProgesteroneReceptorStatus
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		LNC#16113-3
Description:	"Progesterone receptor status is a factor in determining prognosis and treatment options. The value is the percentage of cells that test (stain) positive for the presence of a receptor. The interpretation of positive or negative (found in the interpretation property) is based on the staining percentage, and may take into account the staining intensity. 

Based on discussion with Cancer Interoperability Group subject matter experts, there was insufficient rationale to include the following components in the data model: StainingControl, PrimaryAntibody, Allred Score (both total and component scores). We are seeking feedback on whether or not those components should be included in this model.

We are seeking feedback if it is better to put the positive/negative status in Value or Interpretation. The current approach is that positive/negative designation is a value, even though that value is (in fact) an interpretation of evidence (NuclearPositivity and AverageStainingIntensity)."
				EvaluationResultRecordedContext.ResultValue value is type CodeableConcept
				EvaluationResultRecordedContext.ResultValue.CodeableConcept from PositiveNegativeVS
				EvaluationResultTopic.TopicCode is LNC#16113-3 "Progesterone receptor [Interpretation] in Tissue"	
				DiagnosticService is #pathology	
				EvaluationResultTopic.Specimen is type BreastSpecimen				
				EvaluationResultTopic.EvaluationComponent
includes 0..1	NuclearPositivity
includes 0..1	AverageStainingIntensity

		Element:		NuclearPositivity
		Based on:		EvaluationComponent
		Concept:		TBD
		Description:	"The percentage of cells that test (stain) positive for the presence of a receptor.
		
		We are seeking feedback on whether nuclear positivity should be an exact percentage or a range of percentages. As currently defined, an exact nuclear positivity could be represented by a zero-width range, where the lower and upper bounds would be the same number."
		Value:			PercentageRange
		0..0			ReferenceRange
			
		Element:		AverageStainingIntensity
		Concept:		SCT#444775005 "Average intensity of positive staining neoplastic cells (observable entity)"
		Based on:		CodedEvaluationComponent
		Description:	"The degree or magnitude of staining (nuclear positivity) across cells in the specimen."
		Value:			CodeableConcept from StainingIntensityVS

EntryElement:	HER2ReceptorStatus
Based on:		PanelRecorded
Concept:		LNC#48676-1 "HER2 [Interpretation] in Tissue"
Description:	"HER2 receptor status. HER2 is a member of the human epidermal growth factor receptor family of proteins and is encoded by the ERBB2 oncogene. HER2 is overexpressed in 20-30% of breast tumors, and is associated with an aggressive clinical course and poor prognosis. HER2 status (positive=present or overexpressed; negative=absent) is a factor in determining prognosis and treatment options.

We are seeking feedback if it is better to put the positive/negative status in Value or Interpretation. The current approach is that positive/negative designation is a value, even though that value is (in fact) an interpretation of evidence from HER2 by IHC and/or HER2 by ISH tests, not a direct observation."
				EvaluationResultRecordedContext.ResultValue value is type CodeableConcept
				EvaluationResultRecordedContext.ResultValue.CodeableConcept from PositiveNegativeEquivocalVS
				PanelTopic.TopicCode is LNC#48676-1 "HER2 [Interpretation] in Tissue"
				DiagnosticService is #pathology
				PanelTopic.Specimen is type BreastSpecimen
0..0			PanelTopic.Precondition
0..0			PanelTopic.ReferenceRange
0..0			PanelTopic.AnatomicalLocation // AnatomicalLocation is covered in the Specimen collection
0..0			PanelTopic.FindingMethod
0..0 			PanelTopic.EvaluationComponent
				PanelTopic.PanelMembers.EvaluationResultRecorded
includes 0..*	HER2byIHC
includes 0..*	HER2byISH				
				
EntryElement:	HER2byIHC
Based on:		LaboratoryTestResultRecorded
Concept:		LNC#72383-3
Description:	"HER2 receptor status as determined by Immunohistochemistry (IHC)."
				EvaluationResultRecordedContext.ResultValue value is type CodeableConcept
				EvaluationResultRecordedContext.ResultValue.CodeableConcept from HER2byIHCScoreVS
				EvaluationResultTopic.TopicCode is LNC#72383-3 "HER2 Presence in Tissue by Immunoassay"
0..0			EvaluationResultTopic.FindingMethod
				EvaluationResultRecordedContext.Interpretation from PositiveNegativeEquivocalVS
				DiagnosticService is #pathology
0..0 			EvaluationResultTopic.AnatomicalLocation
0..0			EvaluationResultTopic.Precondition
				EvaluationResultTopic.Specimen is type BreastSpecimen
				EvaluationResultTopic.EvaluationComponent
includes 0..1	CompleteMembraneStainingPercent

		Element:		CompleteMembraneStainingPercent
		Based on:		EvaluationComponent
		Concept:		LNC#85328-3 "Cells.HER2 uniform intense membrane staining/100 cells"
		Description:	"Percentage of cells with uniform intense complete membrane staining."
		Value:			Quantity with units UCUM#%   // TODO: Percentage causes CLI error
		0..0			ReferenceRange
		
EntryElement:	HER2byISH
Based on:		LaboratoryTestResultRecorded
Concept:		LNC#85318-4   // Corrected 5/12/2018 by MK
Description:	"HER2 receptor status as determined by In Situ Hybridization (ISH)."
0..0			EvaluationResultRecordedContext.ResultValue
				EvaluationResultTopic.TopicCode is LNC#85318-4  "HER2 [Presence] in Breast cancer specimen by FISH"
				EvaluationResultTopic.FindingMethod from HER2ISHMethodVS
				EvaluationResultRecordedContext.Interpretation from PositiveNegativeEquivocalVS
				DiagnosticService is #pathology
0..0 			EvaluationResultTopic.AnatomicalLocation
0..0			EvaluationResultTopic.Precondition
				EvaluationResultTopic.Specimen is type BreastSpecimen
				EvaluationResultTopic.EvaluationComponent
includes 0..1	AverageHER2SignalsPerCell
includes 0..1	AverageCEP17SignalsPerCell
includes 0..1	HER2toCEP17Ratio

		Element:		AverageHER2SignalsPerCell
		Based on:		EvaluationComponent
		Concept:		LNC#74860-8
		Description:	"Average number of HER2 signals per cell"
		Value:			Quantity
		0..0			ReferenceRange
		
		Element:		AverageCEP17SignalsPerCell
		Based on:		EvaluationComponent
		Concept:		LNC#74861-6
		Description:	"Average number CEP17 signals per cell (dual probe only)"
		Value:			Quantity
		0..0			ReferenceRange
		
		Element:		HER2toCEP17Ratio
		Based on:		EvaluationComponent
		Concept:		LNC#49683-6
		Description:	"HER2 to CEP17 Ratio (dual probe only)"
		Value:			Quantity
		0..0			ReferenceRange
		
/*		
		Element:		Aneusomy
		Based on:		EvaluationComponent
		Concept:		CAP#30478
		Description:	"Aneusomy (as defined by vendor kit used)"
		Value:			CodeableConcept from YesNoVS
	
		Element:		HeterogeneousSignals
		Based on:		EvaluationComponent
		Concept:		CAP#30482 
		Description:	"Whether In Situ Hybridization signals were heterogeneous."
		Value:			CodeableConcept from YesNoVS
		
		Element:		PercentageAmplified
		Based on:		EvaluationComponent
		Concept:		CAP#31073
		Description:	"Percentage of cells with amplified HER2 signals"
		Value:			Quantity with units UCUM#%

		Element:		NuclearPositivity
		Based on:		EvaluationComponent
		Concept:		TBD
		Description:	"The percentage of cells that test (stain) positive for the presence of a receptor."
		Value:			PercentageRange
	

		Element:		PrimaryAntibody
		Based on:		EvaluationComponent
		Concept:		CAP#31092
		Description:	""
		Value:			CodeableConcept
		
		Element:		AverageStainingIntensity
		Concept:		CAP#29749
		Based on:		EvaluationComponent
		Description:	"Part of the Allred scoring, based on the intensity of that staining, on a scale of 0 (Negative) to 3 (Strong)."
		Value:			CodeableConcept from StainingIntensityVS
		
		Element:		StainingControl
		Based on:		EvaluationComponent
		Concept:		CAP#25895
		Description:	"Whether control cells were present."
		Value:			CodeableConcept from StainingControlVS if covered
		
		Element:		AllredProportionScore
		Concept:		CAP#31054
		Based on:		EvaluationComponent
		Description:	"Part of Allred scoring, based on the percentage of cells that stain for a receptor, on a scale of 0 to 5."
		Value:			Quantity with units UCUM#1

		Element:		AllredIntensityScore
		Concept:		CAP#29749
		Based on:		EvaluationComponent
		Description:	"Part of the Allred scoring, based on the intensity of that staining, on a scale of 0 to 3."
		Value:			Quantity with units UCUM#1
							
		Element:		AllredTotalScore
		Concept:		CAP#31056
		Based on:		EvaluationComponent
		Description:	"The total Allred score, the total of proportion and intensity scores, from 0 to 8."
		Value:			Quantity with units UCUM#1  // unsignedInt -  limit to max of 8				

		Element:		OtherReceptorScoringSystem
		Concept:		CAP#31062
		Based on:		EvaluationComponent
		Description:	"A scoring system other than Allred."

*/		

EntryElement:	OncotypeDxInvasiveRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C1709318
Description:	"The Oncotype DX test for invasive breast cancer examines the activity of 21 genes in a patient’s breast tumor tissue to provide personalized information for tailoring treatment based on the biology of their individual disease. The value from 0 to 100 indicates the estimated risk of recurrence, with the highest risk indicated by a score greater than 31.

No LOINC code currently exists for this test. We are seeking feedback on the value of separating OncotypeDx scores for DCIS and invasive breast carcinomas. Does it make more sense to report the OncotypeDx as a single score, regardless of the type of cancer?"
				EvaluationResultRecordedContext.ResultValue value is type Quantity
				EvaluationResultRecordedContext.ResultValue.Quantity with units UCUM#1
				EvaluationResultTopic.TopicCode is MTH#C1709318
				EvaluationResultRecordedContext.Interpretation from OncotypeDxInvasiveRiskScoreInterpretationVS
				DiagnosticService is #pathology
				EvaluationResultTopic.Specimen is type BreastSpecimen
0..0			EvaluationResultTopic.EvaluationComponent				


EntryElement:	OncotypeDxDCISRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C3898101
Description:	"The Oncotype DX test for DCIS (Ductal Carcinoma in Situ) breast cancer. Risk scores range from 0 to 100 with the following interpretations: 0-38: Low-Risk, 39-54: Intermediate-Risk, 55+: High-Risk.

No LOINC code currently exists for this test. We are seeking feedback on the value of separating OncotypeDx scores for DCIS and invasive breast carcinomas. Does it make more sense to report the OncotypeDx as a single score, regardless of the type of cancer?"
				EvaluationResultRecordedContext.ResultValue value is type Quantity
				EvaluationResultRecordedContext.ResultValue.Quantity with units UCUM#1
				EvaluationResultTopic.TopicCode is MTH#C3898101
				EvaluationResultRecordedContext.Interpretation from OncotypeDxDCISRiskScoreInterpretationVS
				DiagnosticService is #pathology
				EvaluationResultTopic.Specimen is type BreastSpecimen	
0..0			EvaluationResultTopic.EvaluationComponent
				
EntryElement:	ProsignaRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		LNC#76544-6
Description:	"Breast cancer genomic signature assay for 10-year risk of distant recurrence score calculated by Prosigna.

The Prosigna Score is reported on a 0 -100 scale (referred to as ROR Score or Risk of Recurrence Score in the literature), which is correlated with the probability of distant recurrence at ten years for post-menopausal women with hormone receptor positive, early stage breast cancer."
				EvaluationResultRecordedContext.ResultValue value is type Quantity
				EvaluationResultRecordedContext.ResultValue.Quantity with units UCUM#1
				EvaluationResultTopic.TopicCode is LNC#76544-6
				EvaluationResultRecordedContext.Interpretation from RecurrenceRiskScoreInterpretationVS
				DiagnosticService is #pathology
				EvaluationResultTopic.Specimen is type BreastSpecimen
0..0			EvaluationResultTopic.EvaluationComponent				

			
EntryElement:	MammaprintRecurrenceScore
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C2827401
Description:	"Breast cancer genomic signature assay for 10-year risk of distant recurrence score calculated by Mammaprint.

In the United States, MammaPrint can only be used on cancers that are stage I or stage II, invasive, smaller than 5 centimeters, and estrogen-receptor-positive or -negative. Scores range from -1.0 to +1.0, with scores less than 0 indicating high risk, and scores greater than 0 indicating low risk.

The is currently no LOINC code for Mammaprint test."
				EvaluationResultRecordedContext.ResultValue value is type Quantity
				EvaluationResultTopic.TopicCode is MTH#C2827401
				EvaluationResultRecordedContext.Interpretation from MammaprintRiskScoreInterpretationVS
				DiagnosticService is #pathology
				EvaluationResultTopic.Specimen is type BreastSpecimen				 
0..0			EvaluationResultTopic.EvaluationComponent


/*
EntryElement: 	TumorDimensions
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C4086369
0..0			Value
				TopicCode is TBD#TBD
				DiagnosticService is #pathology
				EvaluationComponent
includes 0..1	TumorPrimaryDimensionSize
includes 0..1	TumorSecondaryDimensionSize
includes 0..1	SizeOfGrossTumorBed

		Element:		TumorPrimaryDimensionSize
		Description:	"The longest diameter of the primary tumor."
		Based on:		EvaluationComponent
		Concept:		TBD
		Value:			Quantity with units UCUM#mm		
		
		Element:		TumorSecondaryDimensionSize
		Description:	"The longest perpendicular diameter of the primary tumor."
		Based on:		EvaluationComponent
		Concept:		TBD
		Value:			Quantity with units UCUM#mm

		Element:		SizeOfGrossTumorBed
		Based on:		EvaluationComponent
		Concept:		TBD
		Description:	"The largest dimension of the gross tumor bed/fibrotic area."
		Value:			Quantity with units UCUM#mm


EntryElement: 	TumorMargins
Based on:		SimplifiedLaboratoryTestResultRecorded
Concept:		MTH#C4086369
Description:	"The edge or border of the tissue removed in cancer surgery. The margin is described as negative or clean when the pathologist finds no cancer cells at the edge of the tissue, suggesting that all of the cancer has been removed. The margin is described as positive or involved when the pathologist finds cancer cells at the edge of the tissue, suggesting that all of the cancer has not been removed."
Value: 			CodeableConcept from PositiveNegativeVS
				TopicCode is MTH#C4086369
				DiagnosticService is #pathology
				EvaluationComponent
includes 0..1	TumorMarginDescription
includes 0..1	Cellularity   // not sure this belongs here
includes 0..1	PercentageInSituCarcinoma   // not sure this belongs here
// Do we need to record the method? whether the result of imaging, or study of a removed tumor after lumpectomy?	

		Element:		TumorMarginDescription
		Concept:		TBD
		Based on:		EvaluationComponent
		Description:	"Description of the edge or border of tumor in situ by radiologist or of removed tumor by pathologist."
		Value:			CodeableConcept from TumorMarginDescriptionVS

		Element:		Cellularity
		Concept:		MTH#C4055283
		Based on:		EvaluationComponent
		Description:	"Percentage of cells in a sample that are cancerous"
		Value:			Quantity with units UCUM#%

		Element:		PercentageInSituCarcinoma
		Based on:		EvaluationComponent
		Concept:		TBD
		Description:	"The percentage of the cancer that is in situ, as opposed to invading other tissues."
		Value:			Quantity with units UCUM#%

	
EntryElement:	LymphaticInvolvement
Based on:		LaboratoryTestResultRecorded
Concept:		MTH#C0746333
Description:	"Description of lymph nodes contain cancer cells."
Value:			CodeableConcept from PositiveNegativeVS
1..1			AnatomicalLocatoin from LymphSystemSubdivisionVS 
				DiagnosticService is #pathology
0..0			Focus
0..0			Precondition
0..0			ReferenceRange
0..0			DeltaFlag
				EvaluationComponent
includes 0..1 	LargestLymphNodeSize
includes 0..1 	NumberOfLymphNodesInvolved
includes 0..1 	DegreeOfLymphaticInvolvement

		Element:		LargestLymphNodeSize
		Based on:		EvaluationComponent
		Concept:		MTH#C1285847
		Description:	"The largest dimension of the largest lymph node invaded by cancer cells."
		Value: 			Quantity with units UCUM#mm
						
		Element:		NumberOfLymphNodesInvolved
		Based on:		EvaluationComponent
		Concept:		TBD
		Description:	"A count of lymph nodes invaded by cancer cells of those examined."
		Value:			Quantity with units UCUM#1

		Element:		DegreeOfLymphaticInvolvement
		Based on:		EvaluationComponent
		Concept:		TBD
		Description:	"Assessment of how much cancer is in a lymph node."
		Value:			CodeableConcept from DegreeOfLymphaticInvolvementVS



	Element: 		Ki-67LabelingIndex
	Based on:		SimplifiedLaboratoryTestResultRecorded		
	Concept:		MTH#C4049944
	Description:	"Ki-67 is a protein phosphatase whose expression is strongly associated with cell proliferation and encoded by the MKI67 gene. The Ki67 labeling index is the fraction of Ki-67-positive cells to total cells in a tumor specimen and may be useful for determining prognosis with respect to survival and disease recurrence. The more positive cells there are, the more quickly they are dividing and forming new cells.	ReferenceRange: Low <10, Intermediate 10-20, >20 High"
	Value:		 	Quantity with units UCUM#%
					TopicCode is LNC#29593-1
					DiagnosticService is #pathology
					EvaluationComponent
	includes 0..1	PrimaryAntibody  //from Ki67AntibodyVS if covered

	Element:		S-PhaseFraction
	Based on:		SimplifiedLaboratoryTestResultRecorded
	Concept:		MTH#C0812425
	Description: "An expression of the number of mitoses found in a stated number of cells. The S-phase fraction number tells you what percentage of cells in the tissue sample are in the process of copying their genetic information (DNA). This S-phase, short for synthesis phase, happens just before a cell divides into two new cells. ReferenceRange: Low <6, Intermediate 6-10, >10 High."
	Value:			Quantity with units UCUM#%
					DiagnosticService is #pathology
					TopicCode is LNC#29593-1

EntryElement:	GeneticVariant
Based on:		LaboratoryTestResultRecorded
Concept:		MTH#C0678941
Description:	"Whether a subject carries a mutation in a particular gene."
Value:			CodeableConcept from PositiveNegativeVS
				Focus.CodeableConcept from GeneIdentifierVS
				DiagnosticService is #genetics
0..0			Precondition
0..0			ReferenceRange
0..0			DeltaFlag
0..0			AnatomicalLocation
				EvaluationComponent
includes 0..1	Refseq

			Element:		Refseq
			Based on:		EvaluationComponent
			Concept:		TBD
			Description:	"The Reference Sequence (RefSeq) collection provides a comprehensive, integrated, non-redundant, well-annotated set of sequences, including genomic DNA, transcripts, and proteins. RefSeq sequences form a foundation for medical, functional, and diversity studies. They provide a stable reference for genome annotation, gene identification and characterization, mutation and polymorphism analysis (especially RefSeqGene records), expression studies, and comparative analyses."
			Value: 			CodeableConcept from RefseqVS

EntryElement:	BreastCancerGeneticAnalysisPanel
Concept:		TBD
Based on:		PanelRecorded
Description:	"The status of genes known or suspected to play a role in breast cancer risk, for example, the tumor suppressor genes, BRCA1 and BRCA2."
				PanelTopic.TopicCode is TBD#TBD
				DiagnosticService is #genetics
0..0			EvaluationComponent
				PanelMembers.EvaluationTopic
includes 1..1	BRCA1Variant
includes 1..1	BRCA2Variant

	Element:		BRCA1Variant
	Concept:		TBD
	Based on:		GeneticVariant
	Description:	"Whether the patient has a mutation in the BRCA1 gene."
	Value:			CodeableConcept from PositiveNegativeVS
					Focus.CodeableConcept is HGNC#BRCA1Gene
					

	Element:		BRCA2Variant
	Concept:		TBD
	Based on:		GeneticVariant
	Description:	"Whether the patient has a mutation in the BRCA2 gene."
	Value:			CodeableConcept from PositiveNegativeVS
					Focus.CodeableConcept is HGNC#BRCA2Gene


FHIR Genomics:
https://www.hl7.org/FHIR/2016Jan/obs-genetics-example3-bcr1%20and%20bcr2%20sequencing%20with%20FamilyHistory%20-1.json.html
https://www.hl7.org/FHIR/2016Jan/observation-genetics-cg-prf-1a.html
https://www.hl7.org/FHIR/2016Jan/observation-genetics.html
https://www.hl7.org/FHIR/2016Jan/obs-genetics-example2-germline.html
*/

