Grammar:		DataElement 5.0
Namespace:		cimi.adverse
Description:	"The CIMI Adverse domain contains definitions for describing adverse events and adverse reactions."
Uses:  			shr.core, shr.base, cimi.core, cimi.element, cimi.context, cimi.topic, cimi.statement, cimi.entity, shr.research

CodeSystem:		MTH = http://ncimeta.nci.nih.gov 

Element:		AdverseEventTopic
Based on:		AssertionTopic
Description:	"The topic (independent of context) for any unfavorable and unintended sign, symptom, disease, or other medical occurrence with a temporal association with the use of a medical product, procedure or other therapy, or in conjunction with a research study, regardless of causal relationship. EXAMPLE(S): back pain, headache, pulmonary embolism, death. An AdverseEvent may also document a causal relationship to an intervention is at least a reasonable possibility i.e., the relationship cannot be ruled out."
				TopicCode from MedDRAVS
0..1			AssociatedStudy

		Element:		AssociatedStudy
		Description:	"The related clinical trial or other formal study."
		Value:			ref(Study)

Element:		AdverseEventPresenceContext
Based on:		PresenceContext
Description:	"The context for an adverse event that is known, suspected, or possibly occurred."
1..1			AdverseEventGrade
0..1			SeriousAdverseEvent
//0..1			TBD "PatternOfEvent"  // from STDM
0..1			Outcome from http://hl7.org/fhir/ValueSet/adverse-event-outcome
1..1			CauseCategory 
0..*			AdverseEventAttribution
0..*			ActionTaken


	Element:		SeriousAdverseEvent 
	Concept:		MTH#C1710056
	Description:	"Clinical significance of adverse event usually associated with events that pose a threat to a patient's life or functioning. Seriousness of adverse event serves as a primary guide for defining regulatory reporting obligations and changes in medicinal product development and usage."
	Value:			CodeableConcept from YesNoUnknownVS

	Element:		AdverseEventGrade   // aka seriousness
	Concept:		MTH#C2985911
	Description:	"A coded value specifying the level of injury suffered by the subject for whom the event is reported, using the CTCAE coding system."
	Value:			CodeableConcept from AdverseEventGradeVS
	
	Element:		CauseCategory
	Concept:		TBD
	Description:	"Whether the adverse event is attributed to a treatment, course of the disease, unrelated to either, or unknown. "
	Value:			CodeableConcept from AttributionCategoryVS
	
	Element:		AdverseEventAttribution
	Concept:		MTH#C1510821 "Adverse Event Attribution to Product or ProcedurePerformed"
	Description:	"A possible cause of an observed adverse event, known or theorized. There can be more than one possible cause."
	Value:			CodeableConcept should be from http://hl7.org/fhir/ValueSet/substance-code or ref(Substance) or ref(ActionPerformedStatement)
	1..1			Certainty
	0..1			RouteIntoBody
	
	Element:		ActionTaken
	Concept:		TBD
	Description:	"The action taken as a result of the adverse reaction. May include changing or discontinuing medication, reducing dose, etc."
	1..1			Details
	// TEMPORARY 0..1			ref(MedicationChange)


//---------------- Instantiations --------------

EntryElement:	NoAdverseEventStatement
Based on:		ClinicalStatement
Concept:		MTH#C1963761  "No adverse event"
Description:	"Documentation of a situation where no adverse event has been detected or is known."
				StatementTopic is type AdverseEventTopic
				StatementContext is type AbsenceContext  // Non-occurrence context?

EntryElement:	AdverseEventPresenceStatement
Based on:		ClinicalStatement
Concept:		MTH#C0877248
Description:	"The topic (independent of context) for any unfavorable and unintended sign, symptom, disease, or other medical occurrence with a temporal association with the use of a medical product, procedure or other therapy, or in conjunction with a research study, regardless of causal relationship. EXAMPLE(S): back pain, headache, pulmonary embolism, death. An AdverseEvent may also document a causal relationship to an intervention is at least a reasonable possibility i.e., the relationship cannot be ruled out."
				Signed.Attribution.EntityOrRole is type PatientOrPractitionerOrRelatedPerson  // to facilitate mapping to FHIR, which only allows Patient, Practitioner, or RelatedPerson as recorder (note: CLI crashes if we write this as Signed.Value.EntityOrRole)
				StatementTopic is type AdverseEventTopic
				StatementContext is type AdverseEventPresenceContext 
		 

EntryElement:	ToxicReaction // In truth, this should be a filter on AdverseEventPresenceStatement, not a separate class
Based on:		AdverseEventPresenceStatement
Concept:		MTH#C0542243
Description:	"A grade 3 or 4 adverse reaction to medication, radiation treatment, or other therapy."
				AdverseEventPresenceContext.AdverseEventGrade from ToxicReactionVS  // restricted to grade 3, 4 or 5
