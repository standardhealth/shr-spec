Grammar:		DataElement 5.0
Namespace:		cimi.topic
Description:	"The Topic Core package contains the top-level specializations of the Statement Topic class, namely, the FindingTopic, ActionTopic (ProcedureTopic), and EventTopic classes."
Uses:			shr.core, shr.base, cimi.core, cimi.context, cimi.element, cimi.entity, cimi.statement

CodeSystem: HL7V20074 = http://hl7.org/fhir/v2/0074

Element:		StatementTopic
Based on:		NonIndependent
Concept:		TBD
Description:	"Compositional and reusable grouping of clinical statement attributes that make up the clinical focus of a statement.

StatementTopic class attributes are aligned with SNOMED CT Concept Model attributes when such an overlap exists. Note that this class does not include contextual attributes such as the nature of the action (ordered, proposed, planned, etc...), the nature of the patient state being described (e.g., present, suspected present, absent), and the attribution of this information (the who, when, where, how, why of the information recorded)."
1..1			TopicCode

		Element:		TopicCode
		Concept:		TBD
		Description:	"The concept representing the finding or action that is the topic of the statement.

		For action topics, the TopicCode represents the action being described. For findings, the TopicCode represents the 'question' or property being investigated. For evaluation result findings, the TopicCode contains a concept for an observable entity, such as systolic blood pressure. For assertion findings, the TopicCode contains a code representing the condition, allergy, or other item being asserted. In all cases, the TopicCode describes the topic independent of the context of the action or the finding."
		Value:			CodeableConcept

Abstract Element:	ActionTopic
Based on:			StatementTopic
Description:		"An entry related to an action or intervention, whether potential or actual, past or future. An intervention is an action addressing a undesired health state, behavior, risk, or goal."
0..1				Category


Element: 		FindingTopic
Based on:		StatementTopic
Concept:		TBD
Description:	"Base class - independent of context - for all kinds of determinations: questions/answers, conditions, observations, allergies, and other findings.
The subject of a finding can be the entire patient, or an entity such as a location body structure, intervention, or condition. Things observed about the subject can include social and behavioral factors, subjective and objective observations, and assessments."
0..1			FindingMethod
0..1			Details
0..*			Media

		Element:		FindingMethod
		Concept:		TBD
		Description:	"The technique used to create the finding, for example, the specific imaging technical, lab test code, or assessment vehicle."
		Value:			CodeableConcept should be from http://loinc.org/vs

Element:		ObservationTopic
// All attributes of observation are defined at this level. Any subclass uses subtractive methods to define relevant attributes
Based on:		FindingTopic
Concept:		MTH#C1554188
Description:	"The base class, independent of context for evaluations (measurements, tests, or questions). The subject of a finding can be the entire patient, or an entity such as a location body structure, intervention, or condition. Things observed about the subject can include social and behavioral factors, subjective and objective observations, and assessments."
1..*			Category from http://hl7.org/fhir/ValueSet/observation-category if covered
0..1			AnatomicalLocation  // TODO: Change from element to code to align with FHIR??
0..1			ref(Device)
0..1			ref(Specimen)
0..*			Precondition
0..*			ReferenceRange  // applies to a quantitative measurement only
0..* 			EvaluationComponent
0..1			PanelMembers

		Element:		EvaluationComponent
		Description:	"A simplified, non-separable evaluation consisting of a finding code (represented by the Concept), value (or exception value), reference range, and interpretation. The subject of the evaluation component is the same as in the parent evaluation."
		Value:			(Quantity or CodeableConcept or string or Range or Ratio or Media or time or dateTime or TimePeriod or IntegerQuantity)
		0..1			TopicCode
		0..1			ExceptionValue from http://hl7.org/fhir/ValueSet/data-absent-reason if covered
		0..1			Interpretation
		0..*			ReferenceRange

		Element:		CodedEvaluationComponent
		Based on:		EvaluationComponent
		Description:	"An evaluation component whose value is a code (concept)."
		Value:			CodeableConcept
		0..0			ReferenceRange

		Element:		PanelMembers
		Concept:		TBD
		Description:	"PanelMembers represent the elements of a group of a related but independent evaluations.
			Examples are the measurements that compose a complete blood count (CBC), or the elements of a pathology report. Each member is an independent evaluation, but the grouping reflects a composite lab order, shared specimen, or a single report author. Typically the Category and Reason are not given for individual findings that are part of the panel, but rather given at the level of the panel itself."
		0..* 			ref(Observation)

		Element:		Precondition
		Concept:		TBD
		Description:	"A description of the conditions or context of an observation, for example, under sedation, fasting or post-exercise. Body position and body site are also qualifiers, but handled separately. A qualifier cannot modify the measurement type; for example, a fasting blood sugar is still a blood sugar. "
		Value:			CodeableConcept or ref(Observation)

		Element:		ReferenceRange
		Concept:		MTH#C0883335
		Description:	"The usual or acceptable range for a test result."
		Value:			Range   // TODO: align this with FHIR
		0..1			Type from http://hl7.org/fhir/ValueSet/referencerange-meaning if covered
		0..1			ApplicableSubpopulation
		0..1			ApplicableAgeRange

				Element:	ApplicableSubpopulation
				Concept:	MTH#C0039309 "Target Population"
				Description:	"Codes to indicate the target population this reference range applies to. For example, a reference range may be based on the normal population or a particular sex or race."
				Value: 		CodeableConcept from http://hl7.org/fhir/ValueSet/referencerange-appliesto if covered

				Element:	ApplicableAgeRange
				Concept:	TBD
				Description:	"The age at which this reference range is applicable. This is a neonatal age (e.g. number of weeks at term) if the meaning says so."  // FHIR: how exactly does one indicate a neonatal or prenatal age?
				Value:		Range

Element:		LaboratoryObservationTopic
Based on:		ObservationTopic
Description:	"The topic composition for laboratory observations. A specimen is required, anatomical location is excluded (since the specimen indicates the collection body site). Also includes a diagnostic service (indicating the type of laboratory), not present in general observations."
1..1			ref(Specimen)
0..0			AnatomicalLocation  // AnatomicalLocation is where the Specimen was collected
				Category is OBSCAT#laboratory
0..*			DiagnosticService

		Element:		DiagnosticService
		Concept:		TBD
		Description:	"The service completing the observations, e.g. biochemistry, microbiology, blood bank."
		Value:			CodeableConcept from http://hl7.org/fhir/ValueSet/diagnostic-service-sections if covered


Element: 		AssertionTopic
Based on:		FindingTopic
Description:	"The base topic for conditions, allergies, adverse events, etc. These are things asserted to exist or not. The Value is interpreted in the context of the class; for an AdverseSensitivityToSubstance, the TopicCode is the substance, for a Condition, the TopicCode represents the type of condition found."

Element:		ConditionAssertionTopic
Based on:		AssertionTopic
Description:	"A condition, independent of context. 'Condition' is interpreted broadly to include disorder, abnormality, problem, injury, complaint, functionality, concern, illness, disease, ailment, sickness, affliction, upset, difficulty, disorder, symptom, worry, or trouble, independent of context."
				TopicCode from http://hl7.org/fhir/us/core/ValueSet/us-core-problem if covered
1..*			Category could be from http://hl7.org/fhir/ValueSet/condition-category 
0..*			AnatomicalLocation
0..*			ConditionCause
0..*			AlleviatingFactor
0..*			ExacerbatingFactor

		Element:	ConditionCause
		Description: "The cause of the condition. This includes such causes as disease vectors and endogenous states (e.g., macular degeneration due to diabetes), substances, medications, micro-organisms, and forces associated with the occurrence of a Condition from temporal or causative perspectives"
		Value:		CodeableConcept or ref(Entity) or ref(ClinicalStatement)
		// probably other attributes needed, such as likelihood or type of cause


		Element:		AlleviatingFactor
		Concept:		LNC#55258-8
		Description:	"Activities that reduce the severity of the pathology"
		Value:			CodeableConcept

		Element:		ExacerbatingFactor
		Concept:		LNC#55258-8
		Description:	"Activities that increase the severity of the pathology"
		Value:			CodeableConcept
