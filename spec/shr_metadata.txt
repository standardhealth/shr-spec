DataDefinitions:	shr.metadata
Uses:				shr.core, shr.actors

//-------------- Metadata Concerning the SHR as a Whole ------------------

Element:		ShrInformation
Concept:		TBD
Description:	"Basic information about the SHR and the Person of Record"
1..1	StandardHealthRecordID
1..1	PersonOfRecordID
1..1	Anonymized
1..1	FictionalPerson

Element:		StandardHealthRecordID
Concept:		TBD
Description:	"The persistent, unique ID of this standard health record"
1..1			id

Element: 		PersonOfRecordID
Concept:		TBD
Description:	"The persistent, unique ID of the person described by and tracked by this record. This ID has no intrinsic meaning and should not contain any identifiable information, such a mashup of name and birth date."
1..1			id

Element:		Anonymized
Concept:		TBD
Description:	"Flag indicating if this record has been anonymized"
1..1			boolean

Element:		FictionalPerson
Concept:		TBD
Description:	"Flag indicating if this record represents a fictional (not real) person"
1..1			boolean

Element:		ContributingRecord
Concept: 		TBD
Description:	"A health record used to help populate the current health record"
1..1	HealthRecordID
1..1	ProvidingOrganization
1..1	WhenAccessed

Element:		HealthRecordID
Concept:		MTH #C0600091
Description:	"Identifier for a health record. Interpreted in the context of the providing organization."
1..1			id

Element:		ProvidingOrganization
Concept:		TBD
Description:	"The organization providing information or resource"
1..1			ref(Organization)  //TBD

Element:		WhenAccessed
Concept:		TBD
Description:	"Point in time when data was last accessed"
1..1			dateTime



/*------------------------ Metadata Associated with Each Entry ----------------------

  Metadata is information concerning the entry itself -- it does not delve into the content of the entry
  It covers when and by whom the entry was created, updated, the recorder, and the source of information
  Actors can comment on the entry using the log feature

  Each entry is comprised of:
		1) Entry metadata: when and by whom the entry was created, updated,etc.
		2) Entry data: specific data related to the entry

  In the future, the metadata might extend to:
		l) information about the access, sensitivity, and permissions (consent to share) associated with the entry
		2) information about the quality and certainty of the information in the entryAction
*/



Element:    	EntryMetadata
Concept:     	MTH #C1708992
Description:    "Describes the identification, timing, attribution, and other circumstances involved in an SHR entry"
1..1    		EntryID  // identifier for the entry
1..1			PersonOfRecordID   // every entry carries the personOfRecordID
0..1    		ContentCreationDate
0..*    		ContentAttribution
1..1    		WhenRecorded
0..1    		RecordedBy
0..1			Language
0..1			Summary  // from core
1..1    		LastUpdated
0..*			EventLog


	Element:    	EntryID
	Concept:        MTH #C0600091
	Description:    "A unique, persistent, permanent identifier for an entry in a health record"
	1..1          	id

	Element:    	ContentCreationDate
	Concept:        MTH #C2347859
	Description:    "The date on which content was created, or content creation began"
	1..1          	date

	Element:    	ContentAttribution
	Concept:        MTH #C0449416
	Description:    "From whom or what the information originates, as distinct from the actor creating the entry"
	1..1			(ref(MedicalProfessional) or ref(FamilyMember) or ref(UnrelatedThirdParty) or ref(Organization)) //TBD

	Element:   	 	WhenRecorded
	Concept:        MTH #C3669169
	Description:    "The point in time when a piece of information was recorded"
	1..1          	dateTime

	Element:    	RecordedBy
	Concept:        MTH #C1707531
	Description:    "Indicates the person or authoritative body who brought the item into existence"
	1..1          	(ref(MedicalProfessional) or ref(Organization)) // TBD

/* TO DO: Data sharing permissions are TBD.
  Unlike most other data elements, privacy flags are intimately linked to business rules that interpret and act on the data, to enable or disable sharing of data with particular parties.
Element:		DataSharingPermission
Concept:		MTH #C0086100
Description:	"A data-sharing permission to be applied to the information"
1..1			code from http://standardhealthrecord.org/core/sharingPermission
*/

	Element:		Language
	Concept:		MTH #C0023008
	Description: 	"An identifier for a human language"
	1..1			code from http://hl7.org/fhir/ValueSet/languages

	Element: 		LastUpdated
	Concept:		TBD
	Description:	"The time the entry was last updated (changed)"
	1..1			dateTime

	Element:		EventLog
	Concept:		MTH #C1708728
	Description:	"A record of changes to the entry, similar to a commit log."
	// Note: if we use an external content management approach, such as Github, the event log may not be required.
	0..1    		ContentCreationDate
	0..*    		ContentAttribution
	1..1    		WhenRecorded
	0..1    		RecordedBy
	1..1			EntryAction
	1..1			Comment  // from core

		Element:		EntryAction
		Concept:		TBD
		Description:	"A description of the action taken on this entry"
		1..1			code from http://standardhealthrecord.org/core/entryAction