<h1><a name="#Implementation"></a>Appendix A: Technical Implementation Notes</h1>

<p>This section contains content specific for FHIR implementers.  This allows for introductory and overview content to be shared among the broader community which includes clinicians, project leaders, and executive decision makers.</p>

<p>&nbsp;</p>

<h2>General Notes</h2>

<h3><em>Data Dictionary and FHIR IG alignment</em></h3>
<ul>
    <li>The data dictionary elements are meant to address a clinical and project leadership audience who seek a high level list of mCODE elements and might not reflect the detailed list of of must-support elements which appear in the FHIR IG.</li>
    <p></p>
    <li>mCODE profiles align, where possible, with the <a href="http://www.fhir.org/guides/argonaut/r2/">Argonaut Data Query IG</a> profiles, which are based on <a href="http://hl7.org/fhir/DSTU2/index.html">FHIR DSTU2</a>. However extensions to the Argonaut profiles may exist in cases where there was better alignment between a change to a subsequent FHIR release with mCODE elements.
    </li>
</ul>
<p>It is anticipated that mCODE will move to <a href="http://hl7.org/fhir/R4/">FHIR Release 4</a> when commercial vendors and US Core and/or Argonaut officially support the parts of R4 required by mCODE.</p>

<h3><em>FHIR Examples</em></h3>
<ul>
    <li>Elements in the structured part of FHIR examples may be omitted from the narrative part. The narrative part may also slightly vary in the field description, even though it is semantically equivalent to its structured representation.  This is allowable in FHIR and done on purpose to demonstrate that a FHIR implementer might need to make adjustments to present mCODE elements in a clinically understandable way. </li>
</ul>

<p>&nbsp;</p>

<h2>Cancer Staging</h2>

<h3><em>Representing Staging Category Values</em></h3>

<p>Clinical applications vary in their representation of T, N, and M staging category values, falling into one of two naming conventions:</p>

<ul>
    <li>prepended with a staging classification abbreviation (e.g.: <em>cT3</em>). This is the coding convention returned by AJCC in their digital data content retrieved via the <a href="https://ajcc.3scale.net/">AJCC Application Programming Interface (API)</a>.</li>
    <li>without a prepended staging classification abbreviation (e.g.: <em>T3</em>)</li>
</ul>

<p>mCODE recommends that the implementer align with AJCC's convention of representing the staging category value with the <em>pre-pended classification</em> in both <b>TNMClinicalStageGroup</b> and <b>TNMPathologicStageGroup</b> profiles. This code convention is aligned with the AJCC's digital data and clearly distinguishes the staging classification as clinical, pathologic, or neoadjuvant without having to retrieve further context from the model. </p>

<p>&nbsp;</p>

<h3><em>Representing Stage Group</em></h3>

<p>The <b><em>PrimaryCancerCondition</em></b> profile has a staging.assessment attribute referencing  <b><em>CancerStageGroup</em></b> which is used to validate the <b><em>TNMClinicalStageGroup</em></b> and <b><em>TNMPathologicStageGroup</em></b> profiles.  The implementation therefore will reference either one of those profiles wherever <b><em>CancerStageGroup</em></b> appears.</p>

<p><em>PrimaryCancerCondition.staging.type</em> and <em>PrimaryCancerCondition.staging.summary</em> attributes will contain the most recent staging system and stage group assessed on the patient and updated as a version of the same instance if there is a new staging assessment. Other staging assessments done by the provider will be preserved in instances of the <b><em>TNMClinicalStageGroup</em></b>, <b><em>TNMPathologicalStageGroup</em></b>, or <b><em>CancerStageGroup</em></b> profiles (if the staging system is not TNM-based) since there is a reference back to <b><em>PrimaryCancerCondition</em></b>.</p>

<p>Reference <a href="Condition-mCODEPrimaryCancerConditionExample01.html">mCODEPrimaryCancerConditionExample01</a> for a FHIR example using <b><em>PrimaryCancerCondition</em></b> staging.</p>

<h2>Treatment</h2>

<p>The following mCODE FHIR profiles are relevant to cancer treatment:</p>
<ul>
    <li><em>CancerRelatedRadiationProcedure</em></li>
    <li><em>CancerRelatedSurgicalProcedure</em></li> 
    <li><em>MedicationStatement</em></li> 
</ul>
<p>&nbsp;</p>

<h3><em>Representing Clinical Trial Drugs</em></h3>
<p>Given RxNorm's limitation of including only FDA approved drugs, mCODE represents the MedicationStatement ValueCodeableConcept with a binding of <b>RxNorm <em>(extensible)</em></b>. This allows for the inclusion of other coding systems like the NCI Thesaurus (NCIT) to represent clinical trial oncology drugs.</p>

<h2>Laboratory and Vital Signs</h2>

<h3><em>Tumor Markers</em></h3>
<p>mCODE identifies a dedicated FHIR profile called <strong><em>TumorMarkerTest</em></strong> for the identification of serum and tissue-based tumor markers.</p>
<ul>
    <li>Tumor marker tests identified by their LOINC order code. The assigned TumorMarkerTestVS value set is also extensible to account for new LOINC version and code updates.</li>
    <p></p>
    <li>The TumorMarkerTestVS lists the most common tests for tumor markers but does not further align by cancer type.</li>
</ul>

<p>&nbsp;</p>

<h2>Genomics Reporting</h2>

<ul>
    <li>The <em>geneticsGene</em> attribute is not bound to a cancer-specific value set at this time. Nevertheless, we provide a recommended value set of cancer-related genes in the <em>CancerGeneVS</em> value set.</li>
    <p></p>
    <li>The <em>CancerGeneVS</em> value set contains the HGNC code followed by the HUGO approved symbol embedded within the full description of the term in the value set.</li>
    <p></p>
</ul>

<p>&nbsp;</p>
<h2><a name="#TerminologyOverview"></a>FHIR Terminology Overview</h2>

<p>This implementation guide supplies terminology bindings drawn primarily from LOINC for "observables", and SNOMED-CT for values, results and findings. When appropriate codes are not available in the preferred vocabulary, alternative vocabularies are used, in the following order of preference: SNOMED-CT (if the element is an observable), NCI Thesaurus and Metathesaurus, and local codes.</P>

<p>Value sets from the FHIR specification are reused to the extent possible. In addition, Argonaut Data Query Implementation Guide, and the US Core Implementation Guide were also used when necessary.</p>

<p>There may be differences across these specifications in the value sets used, as well as binding strength. This guide addresses these discrepancies by using the lowest common denominator amongst the specifications. This approach is not without challenges, as there cases where different value sets are required by different specifications, which leaves no choice but to opt for one value set over another.</p>

<h3><em>On SNOMED extensions</em></h3>
<p>mCODE aligns with the Systematic Nomenclature of Medicine, Clinical Terms <b>(SNOMED CT) U.S. Edition</b>. SNOMED CT extensions outside of the U.S. Edition (e.g.: HSPC extensions, local extensions) are not included at this time.<p>

<p>The specification of SNOMED US Edition is handled within the FHIR <b>CodeableConcept.version</b> attribute:</i></p>
<p><code>{version: "http://snomed.info/sct/731000124108"}</code></p>
<p>where <em>731000124108</em> is the SNOMED namespace assigned to the National Library of Medicine (NLM), who manages the SNOMED US Edition.</p>
<p>&nbsp;</p>

<h3><em>Local Value Sets</em></h3>

<p>This guide includes multiple value sets created specifically to support the terminology needs of the models. These value sets where created only when no known existing value sets were deemed to be fit for purpose, or when existing value needs needed to be extended.</p>

<p><strong>NOTE:</strong>There is a known issue with HL7's FHIR implementation guide publisher that causes an error in the expansion of local value sets in the implementation guide. While this prevents the value sets from being shown in the value set pages, the content of the value sets is correctly expanded in json and xml, which readers can access from the individual value set pages.</p>

<p>&nbsp;</p>

<h3><em>Cancer Staging and Proprietary Terminologies</em></h3>

<p>Several proprietary terminologies, including ICD-O-3 and the American Joint Commission on Cancer (AJCC) Staging System are widely used in the cancer domain. Others, such as Current Procedural Terminology (CPT&#174;), while not cancer-specific, are relevant for the representation of cancer-related procedures, such as surgeries or radiation procedures. This guide does not include content from these terminologies due to licensing restrictions. The guide does, however, indicate where it is appropriate to use codes from such terminologies.</p>

<p>&nbsp;</p>
<footer>
    <hr>
    <p><font color="#BEBEBD"><small>Approved for Public Release. Distribution Unlimited. Case Number 16-1988</small></font></p>
</footer>